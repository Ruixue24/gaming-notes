é¦–å…ˆåˆ¶ä½œä¸åŠ¨çš„æ€ªç‰©
1.åˆ›å»ºåä¸ºEnemy1çš„Gameobjectï¼Œæ·»åŠ Box Collider 2Då’ŒRigidbody 2D(Body Type: Static)ï¼ŒæŒ‚ä¸€ä¸ªæ•Œäººæ­»äº¡è„šæœ¬Enemy1.cs
csharp:
public class Enemy1 : MonoBehaviour
{
    public GameObject deathEffect; // å¯é€‰ï¼šæ­»äº¡æ—¶æ’­æ”¾çš„ç‰¹æ•ˆ
    public void Die()
    {
        if (deathEffect != null)
        {
            Instantiate(deathEffect, transform.position, Quaternion.identity);
        }
        Destroy(gameObject);
    }
}
2.ç»™Enemy1æ·»åŠ å­ç‰©ä½“HeadCheckï¼Œæ·»åŠ Box Collider 2D(Is Tigger) ---> è¿™æ ·è¸©æ€ªå¤´éƒ¨æ­»äº¡ï¼ŒæŒ‚ä¸€ä¸ªEnemyHeadè„šæœ¬
csharpï¼š
public class EnemyHead : MonoBehaviour
{
    private void OnTriggerEnter2D(Collider2D other)
    {
        if (other.CompareTag("Player"))
        {
            // è®©æ•Œäººæ­»äº¡ï¼Œè°ƒç”¨Enemy1é‡Œé¢çš„æ­»äº¡æ¡ä»¶
            GetComponentInParent<Enemy1>().Die();

            // ç©å®¶å¼¹è·³
            Rigidbody2D playerRb = other.GetComponent<Rigidbody2D>();
            if (playerRb != null)
            {
                playerRb.velocity = new Vector2(playerRb.velocity.x, 4f); // å¼¹èµ·æ¥
            }
        }
    }
}
3.ç©å®¶è§¦ç¢°åˆ°æ€ªç‰©èº«ä½“åæ­»äº¡
  (1)ç¡®ä¿Enemyçš„Box Collider 2Dæ²¡æœ‰å‹¾é€‰Is Tigger
  (2)åœ¨Enemy1.csä¸­æ·»åŠ ç©å®¶ç¢°æ’
  csharp:
  private void OnCollisionEnter2D(Collision2D collision)
{
    if (collision.collider.CompareTag("Player"))
    {
        // ç©å®¶ä¸æ˜¯ä»å¤´éƒ¨æ¥çš„ï¼Œè€Œæ˜¯ç¢°åˆ°äº†èº«ä½“ â†’ ç©å®¶æ­»äº¡
        collision.collider.GetComponent<PlayerHealth>()?.Die(); // è¯¥æ–¹æ³•è°ƒç”¨äº†PlayerHealth.csä¸­çš„æ­»äº¡å¤„ç†æ–¹æ³•
    }
}
  (3)æ·»åŠ ç©å®¶æ­»äº¡æ–¹æ³• PlayerHealth.cs-->ä½†æ˜¯ç›®å‰è¿™æ®µä»£ç åªæ˜¯ç©å®¶ç«‹åˆ»æ­»äº¡åé‡æ–°å¼€å§‹æœ¬å…³
  csharp:
  public class PlayerHealth : MonoBehaviour
{
    public void Die()
    {
        // ä½ å¯ä»¥åŠ æ­»äº¡åŠ¨ç”»ã€éŸ³æ•ˆã€ç‰¹æ•ˆç­‰ç­‰
        Debug.Log("ç©å®¶æ­»äº¡ï¼");
        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex); // é‡æ–°å¼€å§‹æœ¬å…³
    }
}

  (4)ç°åœ¨æˆ‘è¦å®Œå–„æ­»äº¡æœºåˆ¶ï¼ŒåŠŸèƒ½å¦‚ä¸‹
     ç¬¬ä¸€ï¼Œç©å®¶æœ‰å…­æ¡ç”Ÿå‘½
     ç¬¬äºŒï¼Œå—ä¼¤åè¿›å…¥æ— æ•ŒçŠ¶æ€
     ç¬¬ä¸‰ï¼ŒåŸåœ°å—ä¼¤ä¸é‡ç½®ä½ç½®
     ç¬¬å››ï¼Œå—ä¼¤åè½»å¾®å¼¹å¼€
     ç¬¬äº”ï¼Œè¡€é‡ä¸º0åGameOver
     csharpï¼š
     using UnityEngine;
using System.Collections;

public class PlayerHealth : MonoBehaviour
{
    public int maxHealth = 6;//ç©å®¶æœ‰å…­æ¬¡ç”Ÿå‘½
    private int currentHealth;

    public float invincibleDuration = 2f;
    public float flashInterval = 0.1f;
    private bool isInvincible = false;

    private SpriteRenderer spriteRenderer;
    private Rigidbody2D rb;
    private Collider2D col;

    void Start()
    {
        currentHealth = maxHealth;
        spriteRenderer = GetComponent<SpriteRenderer>();
        rb = GetComponent<Rigidbody2D>();
        col = GetComponent<Collider2D>();
    }

    public void TakeDamage()
    {
        if (isInvincible) return;

        currentHealth--;

        if (currentHealth > 0)
        {
            Debug.Log("å—ä¼¤ï¼å½“å‰è¡€é‡ï¼š" + currentHealth);
            StartCoroutine(InvincibilityFlash());
        }
        else
        {
            Die();
        }
    }

    IEnumerator InvincibilityFlash()
    {
        isInvincible = true;

        // æ·»åŠ è½»å¾®å‡»é€€æ•ˆæœï¼ˆå¾€åæ–¹å‘å¼¹ä¸€ä¸‹ï¼‰
        rb.velocity = new Vector2(-rb.velocity.x * 0.5f, 5f);

        float timer = 0f;
        while (timer < invincibleDuration)
        {
            spriteRenderer.enabled = !spriteRenderer.enabled;
            yield return new WaitForSeconds(flashInterval);
            timer += flashInterval;
        }

        spriteRenderer.enabled = true;
        isInvincible = false;
    }

    public void Die()
    {
        Debug.Log("ä½ æ­»äº†ï¼");
        // TODOï¼šè¿™é‡Œå¯ä»¥æ’­æ”¾æ­»äº¡åŠ¨ç”»ã€é‡å¯å…³å¡æˆ–å¼¹å‡ºæ¸¸æˆç»“æŸç•Œé¢
        gameObject.SetActive(false); // æš‚æ—¶ç›´æ¥éšè—ç©å®¶
    }
}
  5.ä¿®æ”¹Enemy1.csä¸­çš„æ­»äº¡å¤„ç†æ–¹æ³•ï¼Œ
  private void OnCollisionEnter2D(Collision2D collision)
{
    if (collision.collider.CompareTag("Player"))
    {
        // ç©å®¶ä¸æ˜¯ä»å¤´éƒ¨æ¥çš„ï¼Œè€Œæ˜¯ç¢°åˆ°äº†èº«ä½“ â†’ ç©å®¶æ­»äº¡
        //collision.collider.GetComponent<PlayerHealth>()?.Die(); // è¯¥æ–¹æ³•è°ƒç”¨äº†PlayerHealth.csä¸­çš„æ­»äº¡å¤„ç†æ–¹æ³•
        collision.collider.GetComponent<PlayerHealth>()?.TakeDamage();//è¿™æ ·å°±ä¸ä¼šè®©ç©å®¶ç«‹å³æ­»äº¡ï¼Œè€Œæ˜¯æ ¹æ®è¡€é‡å‡å°‘å¹¶è§¦å‘æ— æ•Œæ—¶é—´
    }
}

  6.ç„¶ååšä¸€ä¸ªè¡€æ¡ç³»ç»Ÿ
    é¦–å…ˆï¼Œç©å®¶å½“å‰è¡€é‡ä¸ºå…­ä¸ªçº¢è‰²çš„ğŸ§¡
    å…¶æ¬¡ï¼Œæ­»äº¡ä¸€æ¬¡åˆ™è¡€é‡å‡ä¸€ï¼Œçº¢è‰²çš„å¿ƒå˜æˆç™½è‰²
    (1)åˆ›å»ºUIå¸ƒå±€
       å‡†å¤‡ä¸¤å¼ å›¾ï¼Œä¸€å¼ ä¸ºçº¢è‰²â™¥ï¼Œä¸€å¼ ä¸ºç™½è‰²â™¥ ---> åœ¨Canvasä¸­ç‚¹Create Emptyå‘½åä¸ºHeartsContainer ---> åŠ ä¸€ä¸ª Horizontal Layout Groupå‹¾é€‰Child Alignment: Middle Leftï¼›Spacing: è®¾ç½®ä¸ºé€‚åˆçš„è·ç¦»ï¼ˆå¦‚ 5ï¼‰ï¼›Control Child Size â†’ å–æ¶ˆå‹¾é€‰
       ---> åœ¨ HeartsContainer ä¸‹æ·»åŠ ä¸€ä¸ª Imageï¼ŒæŠŠçº¢è‰²â™¥æ‹–è¿›å»
    (2)åˆ›å»ºä¸€ä¸ªè¡€é‡UIæ§åˆ¶è„šæœ¬HealthUI.csï¼ŒæŒ‚åœ¨HeatsContainerä¸Š
       csharp
using UnityEngine;
using UnityEngine.UI;
using System.Collections.Generic;

public class HealthUI : MonoBehaviour
{
    public Sprite fullHeart;
    public Sprite emptyHeart;

    public GameObject heartPrefab; // Image é¢„åˆ¶ä½“
    public int maxHearts = 5;

    private List<Image> hearts = new List<Image>();

    public void UpdateHearts(int currentHealth)
    {
        // æ¸…ç©ºåŸæœ‰
        foreach (Transform child in transform)
        {
            Destroy(child.gameObject);
        }

        hearts.Clear();

        for (int i = 0; i < maxHearts; i++)
        {
            GameObject heart = Instantiate(heartPrefab, transform);
            Image img = heart.GetComponent<Image>();

            img.sprite = i < currentHealth ? fullHeart : emptyHeart;
            hearts.Add(img);
        }
    }
}

    (3)æ•´åˆåˆ°PlayerHealth.csè„šæœ¬ä¸­
       åœ¨ PlayerHealth.cs çš„å¼€å¤´æ·»åŠ ï¼špublic HealthUI healthUI;
       åœ¨ PlayerHealth.csçš„Start() ä¸­æ·»åŠ ï¼šhealthUI.UpdateHearts(currentHealth);
       åœ¨ PlayerHealthçš„TakeDamage() å’Œ Die() ä¸­éƒ½åŠ ä¸€å¥ï¼šhealthUI.UpdateHearts(currentHealth);


